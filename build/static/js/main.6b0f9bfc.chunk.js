(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{25:function(e,t,n){},45:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(5),r=n.n(o),i=(n(25),n(10)),s=n(4),u=n(1);var l=function(e){var t=e.buttonName;return Object(u.jsx)("button",{className:"SearchForm-button",type:"button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:t})})};function b(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(s.a)(n,2),o=c[0],r=c[1];return Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),console.log(o),t(o),r("")},children:[Object(u.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){r(e.target.value)}}),Object(u.jsx)(l,{buttonName:"Search"})]})})}var j=n(19),m=n.n(j),g=function(e,t){return m.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("21864216-f735fea3a07168d74f35b2198","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},h=document.querySelector("#modal-root");function f(e){var t=e.children,n=e.onClose;Object(a.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&n()};return Object(o.createPortal)(Object(u.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&n()},children:Object(u.jsx)("div",{className:"Modal",children:t})}),h)}var O=function(e){var t=e.id,n=e.webformatURL,a=e.largeImageURL,c=e.tags,o=e.onClick;return Object(u.jsx)("li",{className:"ImageGalleryItem",children:Object(u.jsx)("img",{src:n,alt:c,className:"ImageGalleryItem-image",onClick:function(){return o({largeImageURL:a,tags:c})}})},t)};var d=function(e){var t=e.images,n=e.onClick;return Object(u.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(u.jsx)(O,{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags,onClick:n},e.id)}))})},p=(n(45),function(e){var t=e.children;return Object(u.jsx)("div",{className:"App",children:t})}),v=n(20),x=n.n(v);function w(){return Object(u.jsx)(x.a,{type:"BallTriangle",color:"#00BFFF",height:80,width:80})}var S=n(7);n(66);function y(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),r=Object(s.a)(o,2),l=r[0],j=r[1],m=Object(a.useState)(""),h=Object(s.a)(m,2),O=h[0],v=h[1],x=Object(a.useState)(1),y=Object(s.a)(x,2),k=y[0],N=y[1],C=Object(a.useState)(""),I=Object(s.a)(C,2),L=I[0],F=I[1],R=Object(a.useState)(!1),U=Object(s.a)(R,2),E=U[0],B=U[1],G=Object(a.useState)(null),T=Object(s.a)(G,2),q=(T[0],T[1]),J=Object(a.useState)(!1),M=Object(s.a)(J,2),_=M[0],z=M[1];Object(a.useEffect)((function(){""!==L&&(c([]),N(1),A())}),[L]);var A=function(){B(!0),g(L,k).then((function(e){if(0===e.length){return S.b.warn("Something went wrong")}c((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),N((function(e){return e+1})),k>=2&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){console.log(e);return S.b.warn("Something went wrong")})).finally((function(){B(!1)}))},D=function(){z((function(e){return!e}))};return Object(u.jsxs)(p,{children:[Object(u.jsx)(b,{onSubmit:function(e){if(console.log(e),""===e){return S.b.warn("Something went wrong")}F(e),N(1),q(null)}}),E&&Object(u.jsx)(w,{}),Object(u.jsx)(d,{images:n,onClick:function(e){var t=e.largeImageURL,n=e.tags;j(t),v(n),D()}}),n.length>0&&Object(u.jsx)("button",{className:"Button",type:"button",onClick:A,children:"Load more"}),_&&Object(u.jsx)(f,{onClose:D,children:Object(u.jsx)("img",{src:l,alt:O})}),Object(u.jsx)(S.a,{autoClose:3e3})]})}r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(y,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.6b0f9bfc.chunk.js.map