{"version":3,"sources":["components/Button/Button.js","components/Searchbar/Searchbar.js","services/pixabay-api.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Container/Container.js","components/Loader/Loader.js","App.js","index.js"],"names":["Button","buttonName","className","type","Searchbar","onSubmit","useState","query","setQuery","e","preventDefault","console","log","autoComplete","autoFocus","placeholder","value","onChange","target","searchQuery","currentPage","axios","get","then","response","data","hits","modalRoot","document","querySelector","Modal","children","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","onClick","event","currentTarget","ImageGalleryItem","id","webformatURL","largeImageURL","tags","src","alt","ImageGallery","images","map","el","Container","Loaderr","color","height","width","App","setImages","setLargeImageURL","setTags","setCurrentPage","inputQuery","setInputQuery","isLoading","setIsLoading","setError","showModal","setShowModal","fetchImages","pixabayApi","length","toast","warn","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","err","finally","toggleModal","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6b0f9bfc.chunk.js","sourcesContent":["//import s from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\nfunction Button({ buttonName }) {\n  return (\n    <button className=\"SearchForm-button\" type=\"button\">\n      <span className=\"SearchForm-button-label\">{buttonName}</span>\n    </button>\n  );\n}\n\nButton.propTypes = {\n  buttonName: PropTypes.string.isRequired,\n};\n\nexport default Button;\n","import Button from \"../Button/Button\";\nimport { Component, useState } from \"react\";\n\n\nexport default function Searchbar({onSubmit}) {\n   const [query, setQuery] = useState('');\n\n  const handleChangeName = (e) => {\n    setQuery(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    console.log(query);\n    onSubmit(query);\n    setQuery('');\n  };\n\n\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={query}\n          onChange={handleChangeName}\n        />\n        <Button buttonName=\"Search\" />\n      </form>\n    </header>\n  );\n}\n\n\n// class Searchbar extends Component {\n//   state = {\n//     query: \"\",\n//   };\n\n//   handleChangeName = (e) => {\n//     this.setState({ query: e.target.value });\n//   };\n\n//   handleSubmit = (evt) => {\n//     evt.preventDefault();\n//     this.props.onSubmit({ ...this.state });\n//     this.reset();\n//   };\n\n//   reset() {\n//     this.setState({\n//       query: \"\",\n//     });\n//   }\n\n//   render() {\n//     const { query } = this.state;\n\n//     return (\n//       <header className=\"Searchbar\">\n//         <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n//           <input\n//             className=\"SearchForm-input\"\n//             type=\"text\"\n//             autoComplete=\"off\"\n//             autoFocus\n//             placeholder=\"Search images and photos\"\n//             value={query}\n//             onChange={this.handleChangeName}\n//           />\n//           <Button buttonName=\"Search\" />\n//         </form>\n//       </header>\n//     );\n//   }\n// }\n\n// export default Searchbar;\n","import axios from \"axios\";\n\nconst API_KEY = \"21864216-f735fea3a07168d74f35b2198\";\n\nconst fetchImages = (searchQuery, currentPage) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((response) => response.data.hits);\n};\n\nexport default { fetchImages };\n","import React, { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\n\nexport default function Modal({ children, onClose }) {\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => { window.removeEventListener('keydown', handleKeyDown) };\n  })\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n      <div className=\"Overlay\" onClick={handleBackdropClick}>\n        <div className=\"Modal\">{children}</div>\n      </div>,\n      modalRoot\n    );\n  \n}\n","//import s from \"./FilterContacts.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({\n  id,\n  webformatURL,\n  largeImageURL,\n  tags,\n  onClick,\n}) => {\n  return (\n    <li className=\"ImageGalleryItem\" key={id}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n        onClick={() => onClick({ largeImageURL, tags })}\n      />\n    </li>\n  );\n};\n\n// ImageGalleryItem.propTypes = {\n//   id: PropTypes.string.isRequired,\n//   webformatURL: PropTypes.string.isRequired,\n//   largeImageURL: PropTypes.string.isRequired,\n//   tags: PropTypes.array.isRequired,\n//   onClick: PropTypes.func.isRequired,\n// };\n\nexport default ImageGalleryItem;\n","//import s from \"./List.module.css\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nfunction ImageGallery({ images, onClick }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map((el) => {\n        return (\n          <ImageGalleryItem\n            key={el.id}\n            webformatURL={el.webformatURL}\n            largeImageURL={el.largeImageURL}\n            tags={el.tags}\n            onClick={onClick}\n          />\n        );\n      })}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import s from \"./Container.module.css\";\nimport PropTypes from \"prop-types\";\nconst Container = ({ children }) => {\n  return <div className=\"App\">{children}</div>;\n};\nContainer.propTypes = {\n  children: PropTypes.node,\n};\nexport default Container;\n","import Loader from \"react-loader-spinner\";\n\nexport default function Loaderr() {\n  return (\n    <Loader\n      type=\"BallTriangle\"\n      color=\"#00BFFF\"\n      height={80}\n      width={80} //3 secs\n    />\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport Searchbar from \"./components/Searchbar\";\nimport pixabayApi from \"./services/pixabay-api\";\nimport Modal from \"./components/Modal\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Container from \"./components/Container\";\nimport Loader from \"./components/Loader\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\n\nexport default function App() {\n  const [images, setImages] = useState([]);\n  const [largeImageURL, setLargeImageURL] = useState('');\n  const [tags, setTags] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [inputQuery, setInputQuery] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    if (inputQuery === '') {\n      return\n    }\n    setImages([]);\n    setCurrentPage(1)\n    fetchImages();\n  }, [inputQuery]);\n\n  const onSearch = (query) => {\n    console.log(query);\n    if (query === \"\") {\n      const notify = () => toast.warn(`Something went wrong`);\n      return notify();\n    }\n    setInputQuery(query);\n    setCurrentPage(1);\n    setError(null);\n  };\n\n  const fetchImages = () => {\n    setIsLoading(true);\n    \n      pixabayApi\n      .fetchImages(inputQuery, currentPage)\n      .then((data) => {\n        if (data.length === 0) {\n          const notify = () => toast.warn(`Something went wrong`);\n          return notify();\n        }\n        setImages((prevState) => [...prevState, ...data] );\n        setCurrentPage((prevState) => prevState += 1);\n        if (currentPage >= 2) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        const notify = () => toast.warn(`Something went wrong`);\n        return notify();\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  const onModal = ({ largeImageURL, tags }) => {\n    setLargeImageURL(largeImageURL);\n    setTags(tags);\n    toggleModal();\n  };\n\n  const toggleModal = () => {\n    setShowModal((prevState) => !prevState)\n  }\n  \n\n\n    return (\n      <Container>\n        <Searchbar onSubmit={onSearch} />\n        {isLoading && <Loader />}\n        <ImageGallery images={images} onClick={onModal} />\n        {images.length > 0 && (\n          <button className=\"Button\" type=\"button\" onClick={fetchImages}>\n            Load more\n          </button>\n        )}\n        {showModal && (\n          <Modal onClose={toggleModal}>\n            <img src={largeImageURL} alt={tags} />\n          </Modal>\n        )}\n        <ToastContainer autoClose={3000} />\n      </Container>\n    );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}